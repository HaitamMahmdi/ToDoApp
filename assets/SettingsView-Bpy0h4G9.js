import{e as L,b as T,f as l,c as o,a as e,h as i,n as a,F as N,x as P,t as h,y as U,i as D,k as M,z as j,A as z,o as r}from"./index-D5vwwh_m.js";const B={class:"py-10 grow md:w-[calc(100%-256px)] container px-4 mx-auto"},R={class:"mx-auto"},W={class:"flex flex-col items-center mt-10"},q={class:"lg:w-4/6"},F={class:"flex relative items-center border-b pb-3 border-on-surface"},G=["src"],E={key:0,class:"flex top-full w-full absolute bg-light-surface dark:bg-on-surface flex-wrap justify-center p-4 items-center mt-5"},H=["data-imagename","src"],J={class:"dark:text-on-primary font-semibold text-3xl ml-5"},K={class:"mt-20 text-tinys"},O={class:"w-full text-on-surface mt-4"},Q={class:"mt-10 relative dark:text-white"},X={class:"text-2xl font-semibold"},Y={class:"mt-5"},Z={class:"flex p-5 flex-wrap justify-between mb-8 mt-2 items-center"},ee={class:"relative border p-4 mt-20 border-error"},te={class:"flex mt-5 justify-between items-center"},oe={__name:"SettingsView",setup(se){const p="/ToDoApp/",n=L();n.checkAuth();const g=T(()=>n.user),y=T(()=>{var u;return(u=n.user)==null?void 0:u.photoURL}),c=l(!1),d=l("Man"),C=l(null),v=l(""),w=l(""),_=l(null),m=u=>{const t=u.target;d.value=t.innerText},I=["defualt","cat","camionnette","camionnette_Night","face","woman_face"],k=l(!1),f=l(null),V=l(""),$=u=>{const t=u.target,x=t.dataset.clicked==="true";!x&&!f.value?t.classList.add("border-5","border-button-color"):!x&&f.value&&(f.value.classList.remove("border-5","border-button-color"),t.classList.add("border-5","border-button-color")),f.value=t,V.value=t.dataset.imagename},A=async()=>{await n.updateUserImage(g.value,V.value),k.value=!1};let b;const S=async()=>{C.value&&(b=await n.updateUserPassword(v.value,w.value),b.startsWith("âœ…")?_.value=!0:_.value=!1)};return(u,t)=>{const x=M("font-awesome-icon");return r(),o("section",B,[e("ul",R,[e("li",W,[e("ul",q,[e("li",F,[e("div",null,[e("img",{class:"rounded-full w-16 h-16",src:y.value?`${a(p)}user_default_profile_image/${y.value}.jpg `:`${a(p)}user_default_profile_image/default.jpg`,alt:""},null,8,G)]),k.value?(r(),o("ul",E,[(r(),o(N,null,P(I,s=>e("li",null,[s!==y.value?(r(),o("img",{key:0,onClick:$,"data-imagename":s,"data-clicked":"false",class:"w-16 h-16 rounded-full cursor-pointer m-3",src:s?`${a(p)}user_default_profile_image/${s}.jpg `:`${a(p)}user_default_profile_image/defualt.jpg`,alt:""},null,8,H)):i("",!0)])),64)),e("li",{class:"w-full flex justify-center mt-10"},[e("button",{onClick:A,class:"cursor-pointer hover:bg-[#4a5df99c] bg-button-color text-on-primary w-28 p-2 rounded-2xl"}," Done ")])])):i("",!0),e("p",J,h(g.value?g.value.displayName:"none"),1),e("input",{onClick:t[0]||(t[0]=s=>k.value=!0),type:"button",class:"cursor-pointer ml-auto bg-button-color text-on-primary px-2 py-3 rounded-2xl",value:"Change image"})]),e("li",K,[t[6]||(t[6]=e("button",{class:"dark:text-on-primary w-full cursor-pointer items-center flex justify-between"},[e("p",{class:"text-2xl font-semibold"},"Gender")],-1)),e("ul",O,[e("li",{onClick:[m,t[1]||(t[1]=U(s=>c.value=!c.value,["self"]))],class:"px-2 py-4 hover:bg-[#DDD] cursor-pointer bg-on-primary"},h(d.value),1),c.value&&d.value!=="Woman"?(r(),o("li",{key:0,onClick:m,class:"px-2 py-4 hover:bg-[#DDD] cursor-pointer bg-on-primary border-y"}," Woman ")):i("",!0),c.value&&d.value!=="Man"?(r(),o("li",{key:1,onClick:m,class:"px-2 py-4 hover:bg-[#DDD] cursor-pointer bg-on-primary border-y"}," Man ")):i("",!0),c.value&&d.value!=="croissant"?(r(),o("li",{key:2,onClick:m,class:"px-2 py-4 hover:bg-[#DDD] cursor-pointer bg-on-primary"}," croissant ")):i("",!0)])]),e("li",Q,[e("h3",X,[D(x,{class:"text-3xl",icon:"user"}),t[7]||(t[7]=e("span",{class:"ml-5"},"Account settings",-1))]),e("ul",Y,[e("li",Z,[D(j,{label:"enter old password",inputType:"password",modelValue:v.value,"onUpdate:modelValue":t[2]||(t[2]=s=>v.value=s),id:"newInput",name:"input",isRequired:!0,lableStyle:"text-tiny",cusclass:"px-5 w-full py-3",class:"w-full",helperText:!0,addValidateToText:!0},null,8,["modelValue"]),D(j,{label:"enter new password",inputType:"password",id:"newInput",modelValue:w.value,"onUpdate:modelValue":t[3]||(t[3]=s=>w.value=s),onIsvalidVal:t[4]||(t[4]=s=>C.value=s),name:"input",isRequired:!0,lableStyle:"text-tiny",cusclass:"px-5 w-full py-3",class:"w-full mt-8",helperText:!0,addValidateToText:!0},null,8,["modelValue"])]),a(b)?(r(),o("p",{key:0,class:z([[_.value?"text-success":"text-error"],"font-bold text-3xl text-center"])}," ------"+h(a(b))+"------ ",3)):i("",!0),t[10]||(t[10]=e("li",{class:"flex mt-5 justify-between items-center"},[e("p",{class:"p-5"},"Add a Phone Number"),e("input",{class:"dark:bg-secondary bg-on-primary py-2 px-3 md:w-[60%]",type:"number"})],-1)),e("li",null,[e("button",{onClick:S,class:"bg-primary font-semibold cursor-pointer mt-5 px-4 py-3 rounded-2xl"}," Submit changes ")]),e("li",ee,[t[9]||(t[9]=e("h3",{class:"text-3xl top-[-20%] dark:bg-surface bg-light-surface px-4 absolute font-semibold text-error"}," Danger zone ",-1)),e("p",te,[t[8]||(t[8]=e("span",{class:"text-tiny"},"Delete my account",-1)),e("button",{onClick:t[5]||(t[5]=(...s)=>a(n).deleteAccount&&a(n).deleteAccount(...s)),class:"bg-error cursor-pointer px-3 w-28 py-1 rounded-2xl"}," Delete ")])])])])])])])])}}};export{oe as default};
