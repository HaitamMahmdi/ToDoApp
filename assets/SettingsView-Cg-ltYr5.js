import{e as L,b as V,f as l,c as o,a as e,h as u,F as N,x as P,t as k,y as U,i as h,k as $,z as j,n as b,A as M,o as a}from"./index-DufJzVBK.js";const z={class:"py-10 grow md:w-[calc(100%-256px)] container px-4 mx-auto"},B={class:"mx-auto"},R={class:"flex flex-col items-center mt-10"},W={class:"lg:w-4/6"},q={class:"flex relative items-center border-b pb-3 border-on-surface"},F=["src"],G={key:0,class:"flex top-full w-full absolute bg-light-surface dark:bg-on-surface flex-wrap justify-center p-4 items-center mt-5"},E=["data-imagename","src"],H={class:"dark:text-on-primary font-semibold text-3xl ml-5"},J={class:"mt-20 text-tinys"},K={class:"w-full text-on-surface mt-4"},O={class:"mt-10 relative dark:text-white"},Q={class:"text-2xl font-semibold"},X={class:"mt-5"},Y={class:"flex p-5 flex-wrap justify-between mb-8 mt-2 items-center"},Z={class:"relative border p-4 mt-20 border-error"},ee={class:"flex mt-5 justify-between items-center"},le={__name:"SettingsView",setup(te){const r=L();r.checkAuth();const x=V(()=>r.user),g=V(()=>{var n;return(n=r.user)==null?void 0:n.photoURL}),i=l(!1),c=l("Man"),D=l(null),y=l(""),v=l(""),w=l(null),d=n=>{const t=n.target;c.value=t.innerText},I=["defualt","cat","camionnette","camionnette_Night","face","woman_face"],_=l(!1),p=l(null),C=l(""),T=n=>{const t=n.target,f=t.dataset.clicked==="true";!f&&!p.value?t.classList.add("border-5","border-button-color"):!f&&p.value&&(p.value.classList.remove("border-5","border-button-color"),t.classList.add("border-5","border-button-color")),p.value=t,C.value=t.dataset.imagename},S=async()=>{await r.updateUserImage(x.value,C.value),_.value=!1};let m;const A=async()=>{D.value&&(m=await r.updateUserPassword(y.value,v.value),m.startsWith("âœ…")?w.value=!0:w.value=!1)};return(n,t)=>{const f=$("font-awesome-icon");return a(),o("section",z,[e("ul",B,[e("li",R,[e("ul",W,[e("li",q,[e("div",null,[e("img",{class:"rounded-full w-16 h-16",src:g.value?`/public/user_default_profile_image/${g.value}.jpg `:"/public/user_default_profile_image/defualt.jpg",alt:""},null,8,F)]),_.value?(a(),o("ul",G,[(a(),o(N,null,P(I,s=>e("li",null,[s!==g.value?(a(),o("img",{key:0,onClick:T,"data-imagename":s,"data-clicked":"false",class:"w-16 h-16 rounded-full cursor-pointer m-3",src:s?`/user_default_profile_image/${s}.jpg `:"/user_default_profile_image/defualt.jpg",alt:""},null,8,E)):u("",!0)])),64)),e("li",{class:"w-full flex justify-center mt-10"},[e("button",{onClick:S,class:"cursor-pointer hover:bg-[#4a5df99c] bg-button-color text-on-primary w-28 p-2 rounded-2xl"}," Done ")])])):u("",!0),e("p",H,k(x.value?x.value.displayName:"none"),1),e("input",{onClick:t[0]||(t[0]=s=>_.value=!0),type:"button",class:"cursor-pointer ml-auto bg-button-color text-on-primary px-2 py-3 rounded-2xl",value:"Change image"})]),e("li",J,[t[6]||(t[6]=e("button",{class:"dark:text-on-primary w-full cursor-pointer items-center flex justify-between"},[e("p",{class:"text-2xl font-semibold"},"Gender")],-1)),e("ul",K,[e("li",{onClick:[d,t[1]||(t[1]=U(s=>i.value=!i.value,["self"]))],class:"px-2 py-4 hover:bg-[#DDD] cursor-pointer bg-on-primary"},k(c.value),1),i.value&&c.value!=="Woman"?(a(),o("li",{key:0,onClick:d,class:"px-2 py-4 hover:bg-[#DDD] cursor-pointer bg-on-primary border-y"}," Woman ")):u("",!0),i.value&&c.value!=="Man"?(a(),o("li",{key:1,onClick:d,class:"px-2 py-4 hover:bg-[#DDD] cursor-pointer bg-on-primary border-y"}," Man ")):u("",!0),i.value&&c.value!=="croissant"?(a(),o("li",{key:2,onClick:d,class:"px-2 py-4 hover:bg-[#DDD] cursor-pointer bg-on-primary"}," croissant ")):u("",!0)])]),e("li",O,[e("h3",Q,[h(f,{class:"text-3xl",icon:"user"}),t[7]||(t[7]=e("span",{class:"ml-5"},"Account settings",-1))]),e("ul",X,[e("li",Y,[h(j,{label:"enter old password",inputType:"password",modelValue:y.value,"onUpdate:modelValue":t[2]||(t[2]=s=>y.value=s),id:"newInput",name:"input",isRequired:!0,lableStyle:"text-tiny",cusclass:"px-5 w-full py-3",class:"w-full",helperText:!0,addValidateToText:!0},null,8,["modelValue"]),h(j,{label:"enter new password",inputType:"password",id:"newInput",modelValue:v.value,"onUpdate:modelValue":t[3]||(t[3]=s=>v.value=s),onIsvalidVal:t[4]||(t[4]=s=>D.value=s),name:"input",isRequired:!0,lableStyle:"text-tiny",cusclass:"px-5 w-full py-3",class:"w-full mt-8",helperText:!0,addValidateToText:!0},null,8,["modelValue"])]),b(m)?(a(),o("p",{key:0,class:M([[w.value?"text-success":"text-error"],"font-bold text-3xl text-center"])}," ------"+k(b(m))+"------ ",3)):u("",!0),t[10]||(t[10]=e("li",{class:"flex mt-5 justify-between items-center"},[e("p",{class:"p-5"},"Add a Phone Number"),e("input",{class:"dark:bg-secondary bg-on-primary py-2 px-3 md:w-[60%]",type:"number"})],-1)),e("li",null,[e("button",{onClick:A,class:"bg-primary font-semibold cursor-pointer mt-5 px-4 py-3 rounded-2xl"}," Submit changes ")]),e("li",Z,[t[9]||(t[9]=e("h3",{class:"text-3xl top-[-20%] dark:bg-surface bg-light-surface px-4 absolute font-semibold text-error"}," Danger zone ",-1)),e("p",ee,[t[8]||(t[8]=e("span",{class:"text-tiny"},"Delete my account",-1)),e("button",{onClick:t[5]||(t[5]=(...s)=>b(r).deleteAccount&&b(r).deleteAccount(...s)),class:"bg-error cursor-pointer px-3 w-28 py-1 rounded-2xl"}," Delete ")])])])])])])])])}}};export{le as default};
